---
import { SITE } from 'astrowind:config';
---

<span
  class="self-center ml-2 rtl:ml-0 rtl:mr-2 text-2xl md:text-xl font-bold text-gray-900 whitespace-nowrap dark:text-white transition-all duration-500 ease-in-out opacity-0 translate-x-[-20px]"
  id="logo-text"
  data-site-name={SITE.name}
>
  <!-- Home -->
</span>

<script>
  const logoText = document.getElementById('logo-text')!;
  const siteName = 'Afif Jamhari';

  window.addEventListener('scroll', () => {
    if (window.scrollY > 100) {
      logoText.textContent = siteName;
      logoText.classList.remove('opacity-0', 'translate-x-[-20px]');
      logoText.classList.add('opacity-100', 'translate-x-0');
    } else {
      // Instead of clearing the text immediately, add a delay
      logoText.classList.remove('opacity-100', 'translate-x-0');
      logoText.classList.add('opacity-0', 'translate-x-[-20px]');

      // Clear text after transition completes
      setTimeout(() => {
        if (window.scrollY <= 100) {
          logoText.textContent = '';
        }
      }, 500); // Match this with the duration in the class
    }
  });
</script>
